##
#Beams v0.1.3 (Beta)
#Copyright (c) 2014-2015 Peter McKay
#Free to use under the MIT license.

#Note: This file should be placed in /etc/nginx/sites-enabled

upstream project {
  server 123.456.789.012:80;     
  #Customize IP address for your project. You can also add IPs in this object for additional instances of your app on additional servers or ports
}
 

server {
    listen 443 default;
    ssl on;
    server_name example.com;
    server_tokens off;
    ssl_certificate www.example.com.crt; 
    ssl_certificate_key www.example.com.key;
    #Be sure to check file paths on cert and key
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers HIGH:!aNULL:!MD5;
   add_header Strict-Transport-Security max-age=500; 
   
  location / {
    proxy_pass http://project;
    proxy_redirect off; 
    proxy_set_header Host $host ; 
    proxy_set_header X-Real-IP $remote_addr ; 
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for ; 
    proxy_set_header X-Forwarded-Proto https;
  }

  location /css/* {
    expires 1h;
  }

  location /js/* {
    expires 1h;
  }

  location /img/* {
    expires 1h;
  }
    
  }
  location /api {
    expires 10m;
  }
  
}
